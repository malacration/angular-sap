<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/themes/prism.css" />
</head>
<h1>Import Csv</h1>
<input type="file" (change)="onFileSelect($event.target)" />
<button (click)="carregarCsv()">Enviar</button>
<button (click)="limpar()">Limpar</button>
<hr>
<h2>Dados Para importação</h2>

<button (click)="validarParceiro()">Validar Parceiro</button>

<div class="card" *ngFor="let pn of dados">
    <div class="card-header" (click)="pn.isCollapsed = ! pn.isCollapsed">
        cnpj : {{pn.cpfCnpj}} - {{pn.codSap}} <span *ngIf="pn.error" (click)="showErro(pn)">error</span>
    </div>
    <div style="margin: 5px;" class="card-body" *ngFor="let nf of pn.documentosFiscais" #collapse="ngbCollapse" [(ngbCollapse)]="pn.isCollapsed">
        Nota - {{nf.numeroDocumento}}
        <div style="margin-left: 5px;" *ngFor="let parcela of nf.parcelas">
            Parcelas - R$: {{parcela.valor}} - {{parcela.dataVencimento | date: 'dd/MM/yyyy'}} 
        </div>
    </div>
</div>

<button (click)="cadastrarNfentrada()">Importar Notas fiscais de Entrada</button>